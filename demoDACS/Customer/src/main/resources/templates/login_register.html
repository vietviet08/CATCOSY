<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">
<head th:replace="~{fragments :: head}">
</head>
<link rel="stylesheet" th:href="@{/css/login-register.css}">
<body style="background-color: #f7f7f7">

<!--loader-->
<div th:replace="~{fragments :: loader}"></div>

<header th:replace="~{fragments :: header}"></header>

<!--Toast Start-->
<div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 9999">
    <div th:if="${param.error}" class="toast show toast-login" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <div style="color: #ffcc00; padding-right:8px; font-size: 20px "><i
                    class="fas fa-exclamation-triangle"></i></div>
            <strong class="me-auto">Warning</strong>
            <small>Now</small>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
            Username or password not correct
        </div>
    </div>

    <div th:if="${param.locked}" class="toast show toast-login" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <div style="color: #ffcc00; padding-right:8px; font-size: 20px "><i
                    class="fas fa-exclamation-triangle"></i></div>
            <strong class="me-auto">Warning</strong>
            <small>Now</small>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
            Your account is locked, please contact with admin to know another detail!
        </div>
    </div>

    <div th:if="${param.emailExist}" class="toast show toast-login" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <div style="color: #ffcc00; padding-right:8px; font-size: 20px "><i
                    class="fas fa-exclamation-triangle"></i></div>
            <strong class="me-auto">Warning</strong>
            <small>Now</small>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
            Email already exists, please create an account with another email!
        </div>
    </div>

    <div th:if="${param.logout}" class="toast show toast-login" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <div style="color: #339900; padding-right:8px; font-size: 20px ">
                <i class="fa-solid fa-circle-check"></i>
            </div>
            <strong class="me-auto">Success</strong>
            <small>Now</small>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
            Logout success
        </div>
    </div>

    <div th:if="${param.success}" class="toast show toast-login" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <div style="color: #339900; padding-right:8px; font-size: 20px ">
                <i class="fa-solid fa-circle-check"></i>
            </div>
            <strong class="me-auto">Success</strong>
            <small>Now</small>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
            Login success
        </div>
    </div>
</div>
<!--Toast End-->

<div class="container" style="padding-top: 80px; ">
    <div class="row ">
        <div class="container-login d-flex justify-content-center col-md-6 p-lg-5 my-3 ">
            <div class="login">
                <h2 class="text-center" style="font-weight: 900">LOGIN</h2>
                <form th:action="@{/do-login}" method="post">
                    <ul>
                        <li>
                            <input class="form-control" placeholder="Username" type="text" name="username"
                                   id="username" required autofocus>
                        </li>
                        <li style="margin-top: 20px; position: relative">
                            <input class="form-control password-login" placeholder="Password" type="password"
                                   name="password"
                                   id="password" required>
                            <i class="fa-regular fa-eye show-pass" onclick="showPassword()">
                            </i>
                            <i class="fa-regular fa-eye-slash hide-pass" onclick="showPassword()"></i>
                        </li>

                        <li style="margin: 10px 0; display: flex; align-items: center">
                            <div style="width: 100%; display: flex; align-content: center; justify-content: space-between; align-items: center;">
                                <div>
                                    <input type="checkbox" name="remember-me"
                                           id="remember" style="margin-right: 2px">
                                    <label for="remember">Remember me</label>
                                </div>
                                <div>
                                    <a th:href="@{/forgot-password}"
                                            style="text-decoration: none; color: #333333; background-color: transparent; border: none">
                                        Forgot password?
                                    </a>
                                </div>
                            </div>
                        </li>

                        <li style="margin: 0">
                            <button type="submit" class="" id="login">
                                Login
                            </button>
                        </li>


                    </ul>

                    <hr/>

                </form>
                <div class="login-other">
                    <a th:href="@{/oauth2/authorization/google}" class="oauth2 google">
                        <div>
                            <!--                            <i class="fa-brands fa-google"></i>-->
                            <i class="icon-google">
                                <svg width="20" height="21" viewBox="0 0 20 21" fill="none"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path d="M19.245 9.16357H11.0865C10.7268 9.16357 10.4355 9.4548 10.4355 9.81454V12.4227C10.4355 12.7824 10.7268 13.0736 11.0865 13.0736H15.6818C15.1807 14.3798 14.2385 15.4719 13.0437 16.1657L15.0009 19.5576C18.14 17.7417 19.9987 14.5512 19.9987 10.9837C19.9987 10.4741 19.9602 10.11 19.8874 9.70319C19.8274 9.39056 19.5576 9.16357 19.245 9.16357V9.16357Z"
                                          fill="#167EE6"/>
                                    <path d="M10.0009 16.9881C7.75255 16.9881 5.7911 15.759 4.73756 13.9431L1.3457 15.896C3.07161 18.8896 6.30501 20.9024 10.0009 20.9024C11.8168 20.9024 13.5256 20.4142 15.0031 19.562V19.5577L13.0459 16.1658C12.1466 16.6883 11.1102 16.9881 10.0009 16.9881V16.9881Z"
                                          fill="#12B347"/>
                                    <path d="M14.9979 19.5617V19.5574L13.0407 16.1655C12.1456 16.6837 11.1092 16.9878 10 16.9878V20.9021C11.8158 20.9021 13.5246 20.4139 14.9979 19.5617Z"
                                          fill="#0F993E"/>
                                    <path d="M3.91434 10.9023C3.91434 9.79306 4.21841 8.75666 4.73661 7.86158L1.34475 5.90869C0.488222 7.37764 0 9.08214 0 10.9023C0 12.7224 0.488222 14.4269 1.34475 15.8958L4.73661 13.943C4.21413 13.0479 3.91434 12.0115 3.91434 10.9023V10.9023Z"
                                          fill="#FFD500"/>
                                    <path d="M10.0009 4.81669C11.4656 4.81669 12.8146 5.33917 13.8639 6.20427C14.1251 6.4184 14.502 6.40127 14.7376 6.16573L16.5834 4.3199C16.8532 4.0501 16.8318 3.60898 16.5448 3.36059C14.7847 1.8274 12.4934 0.902344 10.0009 0.902344C6.30502 0.902344 3.07161 2.91519 1.3457 5.90877L4.73756 7.86166C5.7911 6.04581 7.75255 4.81669 10.0009 4.81669Z"
                                          fill="#FF4B26"/>
                                    <path d="M13.863 6.20427C14.1242 6.4184 14.5011 6.40127 14.7366 6.16573L16.5824 4.3199C16.8522 4.0501 16.8308 3.60898 16.5439 3.36059C14.7837 1.8274 12.4925 0.902344 10 0.902344V4.81669C11.4647 4.81669 12.8137 5.33489 13.863 6.20427Z"
                                          fill="#D93F21"/>
                                </svg>
                            </i>
                            Continue with Google
                        </div>
                    </a>

                    <div class="or-login">
                        <p>OR</p>
                    </div>

                    <a th:href="@{/oauth2/authorization/facebook}" class="oauth2 facebook">
                        <div>
                            <i class="fa-brands fa-facebook">
                            </i>
                            Continue with Facebook
                        </div>
                    </a>
                </div>

            </div>
        </div>
        <div class="container-register d-flex justify-content-center col-md-6 p-lg-5 my-3">
            <div class="login">
                <h2 class="text-center" style="font-weight: 900">REGISTER</h2>
                <div class="alert alert-warning" th:if="${message}" th:text="${message}"></div>
                <div class="alert alert-success" th:if="${success}" th:text="${success}"></div>

                <form id="f" th:action="@{/do-register}" th:object="${customerDto}" method="post">
                    <ul class="">
                        <li>
                            <input th:field="*{firstName}" class="form-control" placeholder="First name" type="text"
                                   name="fisrtname"
                                   id="fullname" required>
                        </li>
                        <li>
                            <input th:field="*{lastName}" class="form-control" placeholder="Last name" type="text"
                                   name="lasttname"
                                   id="lastname" required>
                        </li>

                        <li>
                            <input th:field="*{username}" class="form-control" placeholder="Username" type="text"
                                   name="username-register"
                                   id="username-register" required>
                        </li>

                        <li style="position: relative">
                            <input th:field="*{password}" class="form-control pass-register" placeholder="Password"
                                   type="password"
                                   name="password"
                                   id="password-register" required>
                            <i class="fa-regular fa-eye show-pass-1" onclick="showPasswordRegister()">
                            </i>
                            <i class="fa-regular fa-eye-slash hide-pass-1" onclick="showPasswordRegister()"></i>
                        </li>
                        <li style="position: relative">
                            <input th:field="*{passwordRepeat}" class="form-control pass-register"
                                   placeholder="Repeat password"
                                   type="password" name="passwordRepeat"
                                   id="repeat-password-register" required>
                            <i class="fa-regular fa-eye show-pass-1" onclick="showPasswordRegister()">
                            </i>
                            <i class="fa-regular fa-eye-slash hide-pass-1" onclick="showPasswordRegister()"></i>
                        </li>

                        <li id="input-email">
                            <input th:field="*{email}" class="form-control" placeholder="Email" type="email"
                                   name="email" id="email">
                        </li>

                        <li id="input-phone">
                            <input th:field="*{phone}" class="form-control" placeholder="Your phone" type="text"
                                   name="phone" id="phone">
                        </li>

                        <li class="birthdate-sex">
                            <input th:field="*{birthDay}" class="form-control" placeholder="Birth day" type="date"
                                   name="birthDay"
                                   id="birthdate">

                            <select th:field="*{sex}" name="sex" id="sex">
                                <option value="Male">
                                    Male
                                </option>
                                <option value="Female">
                                    Female
                                </option>
                            </select>
                        </li>


                        <li>
                            <button type="submit" class="" id="register">
                                Register
                            </button>
                        </li>
                    </ul>

                </form>

            </div>
        </div>
    </div>


    <div class="modal fade" id="forgot-password-modal" tabindex="-1" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Forgot password</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form th:action="@{/send-otp}">
                        <div class="mb-3">
                            <label for="email-forgot" class="col-form-label">Message:</label>
                            <input type="text" class="form-control" id="email-forgot" name="email-forgot" required>
                        </div>
                        <div class="mb-3">
                            <div>
                                <label for="otp" class="col-form-label">OTP:</label>
                                <input type="text" class="form-control" id="otp" name="otp" required>
                            </div>
                            <div>
                                <button type="submit">Get OTP</button>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Send message</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!--footer-->
<footer th:replace="~{fragments :: footer}"></footer>

<div th:replace="~{fragments :: scroll}"></div>

<div th:replace="~{fragments :: script}"></div>

<script th:src="@{/js/login-register.js}"></script>

<script>
    // $('document').ready(function () {
    //
    //
    //     $('.btnForgot').on('click', function (e) {
    //         e.preventDefault();
    //         // var href = $(this).attr('href');
    //         // $.get(href, function (order, status) {
    //         //
    //         //
    //         // });
    //
    //         var updateCategoryModal = new bootstrap.Modal(document.getElementById('forgot-password-modal'));
    //         updateCategoryModal.show();
    //
    //     });
    // });
</script>


</body>
</html>